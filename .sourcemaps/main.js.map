{"version":3,"sources":["../../src/pages/feedback/feedback.ts","../../src/pages/login/login.ts","../../src/pages/receipt/receipt.ts","../../src/pages/about/about.ts","../../src/pages/signup/signup.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/intro/intro.ts","../../src/providers/people-service.ts","../../src/providers/user-data.ts","../../src/pages/overview/overview.ts","../../src/pages/game/game.ts","../../src/pages/shop/shop.ts","../../src/pages/stat/stat.ts","../../src/pages/leaderboard/leaderboard.ts","../../src/pages/setting/setting.ts","../../src/pages/map/map.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/providers/configuration.service.ts","../../node_modules/moment/locale ^/.*$","../../src/pages/achievement/achievement.ts","../../src/pages/user/user.ts"],"names":[],"mappings":"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,2BAAC;CAAA;AAJgC;;;;;;;;ACLjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { ToastController } from 'ionic-angular';\r\nimport { PeopleService } from '../../providers/people-service';\r\nimport { UserData } from '../../providers/user-data';\r\nimport 'rxjs/add/operator/timeout';\r\n\r\n\r\n/* interface of home page*/\r\n@Component({\r\n  selector: 'page-feedback',\r\n  templateUrl: 'feedback.html',\r\n  providers: [ UserData, PeopleService ]\r\n})\r\n\r\nexport class FeedbackPage {\r\n  feedbackForm: FormGroup;\r\n  loggedIn: boolean;\r\n  loggedInEmail: any;\r\n  username: any;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private toastCtrl: ToastController,\r\n    private peopleService: PeopleService,\r\n    private userData: UserData,\r\n  ) {\r\n    this.userData.hasLoggedIn().subscribe(\r\n      result => {\r\n        if (result) {\r\n          console.log('User is logged in');\r\n          this.getUserEmail();\r\n        } else {\r\n          console.log('User is not logged in');\r\n          this.loggedIn = false;\r\n        }\r\n      },\r\n      err => {\r\n        console.log('Error checking if logged in, assuming not');\r\n        this.loggedIn = false;\r\n      }\r\n    );\r\n\r\n    this.feedbackForm = this.formBuilder.group({\r\n      email:           ['', [Validators.required]],\r\n      feedbacktext:    ['', [Validators.required]],\r\n    });\r\n  }\r\n\r\n  onSubmit() {\r\n    this.peopleService\r\n      .feedback(this.feedbackForm.value)\r\n      .subscribe(\r\n        result => {\r\n          console.log('Form submitted!');\r\n          this.presentToast('Feedback succesfully submitted.');\r\n          this.feedbackForm.patchValue({\r\n            feedbacktext: '',\r\n          });\r\n        },\r\n        error => {\r\n          console.log(JSON.parse(error._body).message);\r\n          this.presentToast('Error submitting Feedback.');\r\n        }\r\n      );\r\n  }\r\n\r\n  getUserEmail() {\r\n    this.userData.getEmail().subscribe(\r\n      result => {\r\n        if (result) {\r\n          console.log('Email has been received');\r\n          this.loggedInEmail = result;\r\n          this.loggedIn = true;\r\n        } else {\r\n          console.log('Email is not available');\r\n          this.loggedIn = false;\r\n        }\r\n      },\r\n      err => {\r\n        console.log('Email could not be received');\r\n        this.loggedIn = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  private presentToast(text) {\r\n    let toast = this.toastCtrl.create({\r\n      message: text,\r\n      duration: 6000,\r\n      position: 'top'\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/feedback/feedback.ts","import { Component } from '@angular/core';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport {\r\n  NavController,\r\n  ToastController,\r\n  LoadingController,\r\n  Events,\r\n  AlertController\r\n} from 'ionic-angular';\r\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\r\nimport { UserPage } from '../user/user';\r\nimport { FeedbackPage } from '../feedback/feedback';\r\nimport { SignupPage } from '../signup/signup';\r\nimport { PeopleService } from '../../providers/people-service';\r\nimport { UserData } from '../../providers/user-data';\r\nimport 'rxjs/add/operator/timeout';\r\n\r\n\r\n/* interface of home page*/\r\n@Component({\r\n  selector: 'login',\r\n  templateUrl: 'login.html',\r\n  providers: [ UserData, PeopleService ]\r\n})\r\n\r\nexport class LoginPage {\r\n  login: FormGroup;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private navCtrl: NavController,\r\n    private loadingCtrl: LoadingController,\r\n    private toastCtrl: ToastController,\r\n    private events: Events,\r\n    private peopleService: PeopleService,\r\n    private userData: UserData,\r\n    public alertCtrl: AlertController,\r\n    private iab: InAppBrowser\r\n  ) {\r\n    this.login = this.formBuilder.group({\r\n      email:    ['', [Validators.required]],\r\n      password: ['', [Validators.required]],\r\n    });\r\n  }\r\n\r\n  goToSignup() {\r\n    this.navCtrl.push(SignupPage);\r\n  }\r\n\r\n  onSubmit() {\r\n    let loading = this.loadingCtrl.create({\r\n      spinner: 'hide',\r\n      content: 'Signing in...'\r\n    });\r\n    loading.present();\r\n\r\n    this.peopleService\r\n      .login(this.login.value)\r\n      .subscribe(\r\n        result => {\r\n          if ( result.user_type == \"customer\") {\r\n            this.userData.setSessionKey( result.session_key );\r\n            // this.userData.setEmail( this.login.value.email );\r\n            this.userData.setUserInfo(\r\n              this.login.value.email,\r\n              result.display_name,\r\n            );\r\n            this.userData.getReturningEntry().subscribe(\r\n              result => {\r\n                if (result == true) {\r\n                  console.log('Returning login, do not set');\r\n                } else {\r\n                  console.log('First time login, set returning login');\r\n                  this.userData.setReturningEntry();\r\n                }\r\n              },\r\n              err => {\r\n                console.log('Error checking if returning user');\r\n              }\r\n            );\r\n            this.events.publish('user:login')\r\n            loading.dismiss();\r\n            this.navCtrl.setRoot(UserPage);\r\n          } else if( result.user_type == \"organisation\") {\r\n            loading.dismiss();\r\n            this.loginOrgPrompt();\r\n          } else {\r\n            let toast = this.toastCtrl.create({\r\n              message: 'Your account has no user type, please contact an admin regarding this issue.',\r\n              duration: 6000,\r\n              position: 'top'\r\n            });\r\n            toast.present();\r\n            this.navCtrl.setRoot(FeedbackPage);\r\n          }\r\n        },\r\n        error => {\r\n          loading.dismiss();\r\n          this.events.publish('user:logout')\r\n          let toast = this.toastCtrl.create({\r\n            message: JSON.parse(error._body).message,\r\n            duration: 6000,\r\n            position: 'top'\r\n          });\r\n          toast.present();\r\n        }\r\n      );\r\n  }\r\n\r\n  private loginOrgPrompt() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Organisation login detected',\r\n      message: 'This app is meant for customers, would you like to be sent to the Trader Web Portal?',\r\n      buttons: [\r\n        {\r\n          text: 'No Thanks',\r\n          handler: () => {\r\n            console.log('Cancel clicked');\r\n            this.login.setValue({\r\n              email: '',\r\n              password: '',\r\n            });\r\n          }\r\n        },\r\n        {\r\n          text: 'Yes!',\r\n          handler: () => {\r\n            console.log('Routing clicked');\r\n            this.iab.create('http://dev.peartrade.org', '_system');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from '@angular/core';\r\nimport {\r\n  NavController,\r\n  NavParams,\r\n  Platform,\r\n  LoadingController,\r\n  Loading,\r\n  ToastController,\r\n  AlertController,\r\n  ActionSheetController\r\n} from 'ionic-angular';\r\nimport { convertDataToISO } from 'ionic-angular/util/datetime-util';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\nimport { FilePath } from '@ionic-native/file-path';\r\nimport { File } from '@ionic-native/file';\r\nimport { Keyboard } from '@ionic-native/keyboard';\r\nimport { PeopleService } from '../../providers/people-service';\r\nimport { UserData } from '../../providers/user-data';\r\nimport { UserPage } from '../user/user';\r\nimport * as moment from 'moment';\r\n\r\n//  handles image upload on mobile dvices\r\ndeclare var cordova: any;\r\n\r\n@Component({\r\n  selector: 'page-receipt',\r\n  templateUrl: 'receipt.html',\r\n  providers: [PeopleService, UserData]\r\n})\r\n\r\n\r\n// ideally this page allows player to submit a receipt along with\r\n// the key feature of uploading an image\r\n\r\nexport class ReceiptPage {\r\n\r\n  submitOrg = {\r\n    name: '',\r\n    street_name: '',\r\n    town: '',\r\n    postcode: '',\r\n  };\r\n  organisationId: number;\r\n  organisationTown: string;\r\n  organisationPostcode: string;\r\n  amount: number;\r\n  transactionAdditionType = 1;\r\n\r\n  lastImage: string = null;\r\n  loading: Loading;\r\n\r\n  storeList;\r\n  showAddStore = false;\r\n  submitReceipt = false;\r\n\r\n  step1Invalid = true;\r\n  step2Invalid = true;\r\n\r\n  currentStep: number = 1;\r\n\r\n  myDate: string;\r\n  minDate: any;\r\n\r\n  constructor(\r\n    public actionSheetCtrl: ActionSheetController,\r\n    public loadingCtrl: LoadingController,\r\n    public toastCtrl: ToastController,\r\n    public navCtrl: NavController,\r\n    public platform: Platform,\r\n    public peopleService: PeopleService,\r\n    public userData: UserData,\r\n    public navParams: NavParams,\r\n    private keyboard: Keyboard,\r\n    private camera: Camera,\r\n    private filePath: FilePath,\r\n    private file: File,\r\n    public alertCtrl: AlertController\r\n  ) {\r\n    this.myDate = moment().format('YYYY-MM-DD[T]HH:mm:ss.SSSZ');\r\n\r\n  }\r\n\r\n  ionViewDidEnter(){\r\n    this.platform.ready().then(() => {\r\n      this.keyboard.disableScroll(true);\r\n    });\r\n    this.getMinDate();\r\n  }\r\n\r\n  getMinDate(){\r\n    // gets the April 1st date of the current year\r\n    let aprilDate = moment().month(3).date(1);\r\n    let now = moment();\r\n    // Checks if current time is before April 1st, if so returns true\r\n    let beforeApril = now.isBefore(aprilDate);\r\n    if ( beforeApril == true ) {\r\n      this.minDate = aprilDate.subtract(2, 'years').format('YYYY-MM-DD');\r\n    } else {\r\n      this.minDate = aprilDate.subtract(1, 'years').format('YYYY-MM-DD');\r\n    }\r\n  }\r\n\r\n  previousStep(){\r\n    this.currentStep --;\r\n  }\r\n\r\n  nextStep(){\r\n    this.currentStep ++;\r\n  }\r\n\r\n  goToStep(theStep){\r\n    this.currentStep = theStep;\r\n  }\r\n\r\n  initializeItems() {\r\n    // Dont bother searching for an empty or undefined string\r\n    if ( this.submitOrg.name == '' ) {\r\n      return;\r\n    }\r\n    var searchData = {\r\n      search_name: this.submitOrg.name,\r\n    };\r\n\r\n    this.peopleService.search(searchData).subscribe(\r\n      data => {\r\n        if(data.validated.length > 0) {\r\n          this.storeList = data.validated;\r\n          this.showAddStore = false;\r\n          this.transactionAdditionType = 1;\r\n        } else {\r\n          this.storeList = data.unvalidated;\r\n          this.showAddStore = false;\r\n          this.transactionAdditionType = 2;\r\n        }\r\n        // handle the case when the storelist is empty\r\n        if(this.storeList.length < 1 ) {\r\n          this.storeList = null;\r\n          this.showAddStore = true;\r\n          this.transactionAdditionType = 3;\r\n        }\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  // if user select a item from the list\r\n  addStore(store){\r\n    this.submitOrg = store;\r\n    this.step1Validate();\r\n    this.organisationId = store.id;\r\n  }\r\n\r\n  // search for store\r\n  organisationSearch(ev) {\r\n    // Reset items back to all of the items\r\n    this.initializeItems();\r\n\r\n    // set val to the value of the searchbar\r\n    let val = ev.target.value;\r\n\r\n    // Filter the store list so search seems quicker\r\n    if (val && val.trim() != '' && this.storeList != null) {\r\n      this.storeList = this.storeList.filter(\r\n        (item) => {\r\n          return ( item.name.toLowerCase().indexOf( val.toLowerCase() ) > -1 );\r\n        }\r\n      )\r\n    }\r\n\r\n    // if nothing is found\r\n    if(!this.storeList === null){\r\n      // display add new store button\r\n      this.showAddStore = true;\r\n    }\r\n  }\r\n\r\n  step1Validate() {\r\n    if( this.submitOrg.name.length == 0 ||\r\n        this.submitOrg.town.length == 0 ) {\r\n          this.step1Invalid = true;\r\n        }else{\r\n          this.step1Invalid = false;\r\n        }\r\n  }\r\n\r\n  step2Validate() {\r\n    if( this.amount == 0 ) {\r\n          this.step2Invalid = true;\r\n        }else{\r\n          this.step2Invalid = false;\r\n        }\r\n  }\r\n\r\n  //  promote a action sheet to ask user to upload image from either\r\n  //  phone's gallery or Camera\r\n  uploadImage() {\r\n    let actionSheet = this.actionSheetCtrl.create({\r\n      title: 'Select Image from: ',\r\n      buttons: [\r\n        {\r\n          text: 'Take a picture',\r\n          handler: () => {\r\n            this.takePicture(this.camera.PictureSourceType.CAMERA);\r\n          }\r\n        },\r\n        {\r\n          text: 'Load from library ',\r\n          handler: () => {\r\n            this.takePicture(this.camera.PictureSourceType.PHOTOLIBRARY);\r\n          }\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel'\r\n        }\r\n      ]\r\n    });\r\n\r\n    actionSheet.present();\r\n\r\n  }\r\n\r\n  takePicture(sourceType) {\r\n    console.log(this.platform);\r\n    // Create options for the Camera Dialog\r\n    var options: CameraOptions = {\r\n      quality: 50,\r\n      destinationType: this.camera.DestinationType.FILE_URI,\r\n      encodingType: this.camera.EncodingType.JPEG,\r\n      mediaType: this.camera.MediaType.PICTURE,\r\n      sourceType: sourceType,\r\n      saveToPhotoAlbum: false,\r\n      correctOrientation: true,\r\n      targetWidth: 1200,\r\n      targetHeight: 1200\r\n    };\r\n\r\n    // Get the data of an image\r\n    this.camera.getPicture(options).then((imagePath) => {\r\n      // Special handling for Android library\r\n      if (this.platform.is('android') && sourceType === this.camera.PictureSourceType.PHOTOLIBRARY) {\r\n        this.filePath.resolveNativePath(imagePath)\r\n          .then(filePath => {\r\n            let correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);\r\n            let currentName = imagePath.substring(imagePath.lastIndexOf('/') + 1, imagePath.lastIndexOf('?'));\r\n            this.copyFileToLocalDir(correctPath, currentName, this.createFileName());\r\n          }\r\n          );\r\n\r\n      } else {\r\n        var currentName = imagePath.substr(imagePath.lastIndexOf('/') + 1);\r\n        var correctPath = imagePath.substr(0, imagePath.lastIndexOf('/') + 1);\r\n        this.copyFileToLocalDir(correctPath, currentName, this.createFileName());\r\n      }\r\n    }, (err) => {\r\n      this.presentToast('Error while selecting image.');\r\n    });\r\n  }\r\n\r\n\r\n  public postImage() {\r\n\r\n    var myParams: any;\r\n    let purchaseTime: string;\r\n    if ( typeof( this.myDate ) === 'string' ) {\r\n      purchaseTime = this.myDate;\r\n    } else {\r\n      purchaseTime = convertDataToISO( this.myDate );\r\n    }\r\n    switch(this.transactionAdditionType){\r\n      case 1:\r\n        myParams = {\r\n          transaction_type  : this.transactionAdditionType,\r\n          transaction_value : this.amount,\r\n          purchase_time     : purchaseTime,\r\n          organisation_id   : this.organisationId,\r\n        };\r\n        break;\r\n      case 2:\r\n        myParams = {\r\n          transaction_type  : this.transactionAdditionType,\r\n          transaction_value : this.amount,\r\n          purchase_time     : purchaseTime,\r\n          organisation_id   : this.organisationId,\r\n        };\r\n        break;\r\n      case 3:\r\n        myParams = {\r\n          transaction_type  : this.transactionAdditionType,\r\n          transaction_value : this.amount,\r\n          purchase_time     : purchaseTime,\r\n          organisation_name : this.submitOrg.name,\r\n          street_name       : this.submitOrg.street_name,\r\n          town              : this.submitOrg.town,\r\n          postcode          : this.submitOrg.postcode,\r\n        };\r\n        break;\r\n    }\r\n    /******************************/\r\n\r\n    if ( this.lastImage != null ) {\r\n      // // File for Upload\r\n      var targetPath = this.pathForImage(this.lastImage);\r\n      // // File name only\r\n      var filename = this.lastImage;\r\n\r\n      this.loading = this.loadingCtrl.create({\r\n        content: 'Uploading...' + filename,\r\n      });\r\n      this.loading.present();\r\n\r\n      this.peopleService.uploadImage(myParams, targetPath).subscribe(\r\n        response => {\r\n          if( response.success == true ) {\r\n            console.log('Successful Upload');\r\n            console.log(response);\r\n            this.loading.dismiss();\r\n            this.readSubmitPrompt();\r\n            this.resetForm();\r\n          } else {\r\n            console.log('Upload Error');\r\n            this.loading.dismiss();\r\n            this.presentToast(JSON.stringify(response.status) + 'Error, ' + JSON.stringify(response.message));\r\n          }\r\n        },\r\n        err => {\r\n          console.log('Upload Error');\r\n          console.log(err);\r\n          this.loading.dismiss();\r\n          let errorString;\r\n          try {\r\n            let jsonError = JSON.parse(err.body);\r\n            errorString = JSON.stringify(jsonError.status) + 'Error, ' + JSON.stringify(jsonError.message);\r\n          } catch(e) {\r\n            errorString = 'There was a server error, please try again later.';\r\n          }\r\n          this.presentToast(errorString);\r\n        }\r\n      );\r\n    } else {\r\n      this.loading = this.loadingCtrl.create({\r\n        content: 'Uploading...',\r\n      });\r\n      this.loading.present();\r\n\r\n      this.peopleService.upload(myParams).subscribe(\r\n        response => {\r\n          if( response.success == true ) {\r\n            console.log('Successful Upload');\r\n            console.log(response);\r\n            this.loading.dismiss();\r\n            this.readSubmitPrompt();\r\n            this.resetForm();\r\n          } else {\r\n            console.log('Upload Error');\r\n            this.loading.dismiss();\r\n            this.presentToast(JSON.stringify(response.status) + 'Error, ' + JSON.stringify(response.message));\r\n          }\r\n        },\r\n        err => {\r\n          console.log('Upload Error');\r\n          console.log(err);\r\n          this.loading.dismiss();\r\n          let errorString;\r\n          try {\r\n            let jsonError = JSON.parse(err.body);\r\n            errorString = JSON.stringify(jsonError.status) + 'Error, ' + JSON.stringify(jsonError.message);\r\n          } catch(e) {\r\n            errorString = 'There was a server error, please try again later.';\r\n          }\r\n          this.presentToast(errorString);\r\n        }\r\n      );\r\n    }\r\n\r\n\r\n  }\r\n\r\n  private resetForm() {\r\n    this.submitOrg = {\r\n      name: '',\r\n      street_name: '',\r\n      town: '',\r\n      postcode: '',\r\n    };\r\n    this.storeList = null;\r\n    this.amount = null;\r\n    this.lastImage = null;\r\n    this.step1Invalid = true;\r\n    this.step2Invalid = true;\r\n    this.currentStep = 1;\r\n    this.myDate = moment().format('YYYY-MM-DD[T]HH:mm:ss.SSSZ');\r\n  }\r\n\r\n  // Create a new name for the image\r\n  private createFileName() {\r\n    var d = new Date(),\r\n      n = d.getTime(),\r\n      newFileName = n + \".jpg\";\r\n    return newFileName;\r\n  }\r\n\r\n  // Copy the image to a local folder\r\n  private copyFileToLocalDir(namePath, currentName, newFileName) {\r\n    this.file.copyFile(namePath, currentName, this.file.dataDirectory, newFileName).then(success => {\r\n      this.lastImage = newFileName;\r\n    }, error => {\r\n      console.log(error);\r\n      this.presentToast('Error while storing file.');\r\n    });\r\n  }\r\n\r\n  private readSubmitPrompt() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Submitted Receipt!',\r\n      message: 'Would you like to submit another receipt?',\r\n      buttons: [\r\n        {\r\n          text: 'No Thanks',\r\n          handler: () => {\r\n            console.log('Cancel clicked');\r\n            this.navCtrl.setRoot(UserPage);\r\n          }\r\n        },\r\n        {\r\n          text: 'Yes!',\r\n          handler: () => {\r\n            console.log('Form reset clicked');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  private presentToast(text) {\r\n    let toast = this.toastCtrl.create({\r\n      message: text,\r\n      duration: 6000,\r\n      position: 'top'\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  // Always get the accurate path to your apps folder\r\n  public pathForImage(img) {\r\n    if (img === null) {\r\n      return '';\r\n    } else {\r\n      return cordova.file.dataDirectory + img;\r\n    }\r\n  }\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/receipt/receipt.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { UserData } from '../../providers/user-data';\r\nimport 'rxjs/add/operator/timeout';\r\n\r\n/*\r\n  About page\r\n*/\r\n@Component({\r\n  selector: 'page-about',\r\n  templateUrl: 'about.html'\r\n})\r\nexport class AboutPage {\r\n  loggedIn: boolean;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private userData: UserData,\r\n  ) {\r\n    this.userData.hasLoggedIn().subscribe(\r\n      result => {\r\n        if (result) {\r\n          console.log('User is logged in');\r\n          this.loggedIn = true;\r\n        } else {\r\n          console.log('User is not logged in');\r\n          this.loggedIn = false;\r\n        }\r\n      },\r\n      err => {\r\n        console.log('Error checking if logged in, assuming not');\r\n        this.loggedIn = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad AboutPage');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/about/about.ts","import { Component } from '@angular/core';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { NavController, ToastController, LoadingController } from 'ionic-angular';\r\nimport { PeopleService } from '../../providers/people-service';\r\n\r\n@Component({\r\n  selector: 'page-signup',\r\n  templateUrl: 'signup.html',\r\n  providers: [PeopleService]\r\n})\r\n\r\nexport class SignupPage {\r\n  signup: FormGroup;\r\n  years: Array<number>;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private peopleService: PeopleService,\r\n    private loadingCtrl: LoadingController,\r\n    private toastCtrl: ToastController,\r\n    private navCtrl: NavController,\r\n  ) {\r\n    let startYear = new Date().getFullYear() - 11;\r\n    this.years = Array.from( new Array(140), (val, index) => startYear - index );\r\n\r\n    this.signup = this.formBuilder.group({\r\n      token         : ['', [Validators.required]],\r\n      full_name     : ['', [Validators.required]],\r\n      display_name  : ['', [Validators.required]],\r\n      email         : ['', [Validators.required]],\r\n      postcode      : ['', [Validators.required]],\r\n      year_of_birth : ['', [Validators.required]],\r\n      password      : ['', [Validators.required]],\r\n    });\r\n  }\r\n\r\n  onSubmit() {\r\n    console.log(this.signup.value, this.signup.valid);\r\n\r\n    let loading = this.loadingCtrl.create({\r\n       content: 'Registering your account...'\r\n    });\r\n    loading.present();\r\n\r\n    // Currently we only accept customer signup in the app\r\n    this.signup.value.usertype = 'customer';\r\n\r\n    this.peopleService\r\n      .register(this.signup.value)\r\n      .subscribe(\r\n        result => {\r\n          loading.dismiss();\r\n          let toast = this.toastCtrl.create({\r\n            message: 'Registered Successfully',\r\n            duration: 6000,\r\n            position: 'top'\r\n          });\r\n          toast.present();\r\n          this.navCtrl.popToRoot();\r\n        },\r\n        error => {\r\n          loading.dismiss();\r\n          console.log( error._body );\r\n          let toast = this.toastCtrl.create({\r\n            message: JSON.parse(error._body).message,\r\n            duration: 6000,\r\n            position: 'top'\r\n          });\r\n          toast.present();\r\n        }\r\n      );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 157;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 157\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 201;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 201\n// module chunks = 0","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { LoginPage } from '../login/login';\r\nimport { SignupPage } from '../signup/signup';\r\n\r\n\r\n/* interface of home page*/\r\n@Component({\r\n  selector: 'page-intro',\r\n  templateUrl: 'intro.html'\r\n})\r\n\r\nexport class IntroPage {\r\n\r\n  constructor(\r\n    private navCtrl: NavController,\r\n  ) {}\r\n\r\n  goToLogin() {\r\n    this.navCtrl.setRoot(LoginPage);\r\n  }\r\n\r\n  goToSignup() {\r\n    this.navCtrl.setRoot(LoginPage);\r\n    this.navCtrl.push(SignupPage);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/intro/intro.ts","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { Transfer, FileUploadOptions, TransferObject } from '@ionic-native/transfer';\r\nimport { UserData } from './user-data';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport 'rxjs/add/operator/map';\r\nimport { AppVersion } from '@ionic-native/app-version';\r\nimport { ConfigurationService } from './configuration.service';\r\n\r\n\r\n\r\n/* this provider handles the interaction between server and client */\r\n\r\n@Injectable()\r\nexport class PeopleService {\r\n  private apiUrl = ConfigurationService.apiUrl;\r\n\r\n  constructor(\r\n    private http: Http,\r\n    private transfer: Transfer,\r\n    private userData: UserData,\r\n    private appVersion: AppVersion,\r\n  ) {}\r\n\r\n  public feedback(data) {\r\n    return Observable.fromPromise(this.appVersion.getAppName())\r\n      .flatMap(result => {\r\n        data.app_name = result;\r\n        return Observable.fromPromise(this.appVersion.getPackageName());\r\n      })\r\n      .flatMap(result => {\r\n        data.package_name = result;\r\n        return Observable.fromPromise(this.appVersion.getVersionCode());\r\n      })\r\n      .flatMap(result => {\r\n        data.version_code = result;\r\n        return Observable.fromPromise(this.appVersion.getVersionNumber());\r\n      })\r\n      .flatMap(result => {\r\n        data.version_number = result;\r\n        console.log(data);\r\n        return this.http.post(\r\n          this.apiUrl + '/feedback',\r\n          data\r\n        );\r\n      })\r\n    .map( response => response.json() );\r\n  }\r\n\r\n  public register(data) {\r\n    return this.http.post(\r\n      this.apiUrl + '/register',\r\n      data\r\n    ).map( response => response.json() );\r\n  }\r\n\r\n  public login(data) {\r\n    return this.http.post(\r\n      this.apiUrl + '/login',\r\n      data\r\n    ).map( response => response.json() );\r\n  }\r\n\r\n  public logout() {\r\n    return this.userData.getSessionKey()\r\n      .flatMap(\r\n        key => {\r\n          this.userData.removeSessionKey();\r\n          // this.userData.removeEmail();\r\n          this.userData.removeUserInfo();\r\n          return this.http.post(\r\n            this.apiUrl + '/logout',\r\n            { session_key : key }\r\n          );\r\n        }\r\n      ).map( response => response.json() );\r\n  }\r\n\r\n  public upload(data) {\r\n    return this.userData.getSessionKey()\r\n      .flatMap(\r\n        value => {\r\n          data.session_key = value;\r\n          return this.http.post(\r\n            this.apiUrl + '/upload',\r\n            data\r\n          );\r\n        }\r\n      ).map( response => response.json() );\r\n  }\r\n\r\n  public uploadImage(data, filePath) {\r\n    return this.userData.getSessionKey()\r\n      .flatMap(\r\n        key => {\r\n          data.session_key = key;\r\n          let options: FileUploadOptions = {\r\n            fileKey: 'file',\r\n            fileName: 'receipt.jpg',\r\n            chunkedMode: false,\r\n            params: {\r\n              json: JSON.stringify(data)\r\n            }\r\n          };\r\n          const fileTransfer: TransferObject = this.transfer.create();\r\n          return Observable.fromPromise(\r\n            fileTransfer.upload(\r\n              filePath,\r\n              this.apiUrl + '/upload',\r\n              options\r\n            )\r\n          )\r\n        }\r\n      ).map( response => JSON.parse(response.response) );\r\n  }\r\n\r\n  public search(data) {\r\n    return this.userData.getSessionKey()\r\n      .flatMap(\r\n        value => {\r\n          data.session_key = value;\r\n          return this.http.post(\r\n            this.apiUrl + '/search',\r\n            data\r\n          );\r\n        }\r\n      ).map( response => response.json() );\r\n  }\r\n\r\n  // Used for frontpage stats\r\n\r\n  public basicStats() {\r\n    return this.userData.getSessionKey()\r\n      .flatMap(\r\n        key => {\r\n          return this.http.post(\r\n            this.apiUrl + '/stats',\r\n            { session_key : key },\r\n          );\r\n        },\r\n      ).map( response => response.json() );\r\n  }\r\n\r\n  // Used for account edit page\r\n\r\n  public accountFullLoad() {\r\n    return this.userData.getSessionKey()\r\n      .flatMap(\r\n        key => {\r\n          return this.http.post(\r\n            this.apiUrl + '/user',\r\n            { session_key : key },\r\n          );\r\n        },\r\n      ).map( response => response.json() );\r\n  }\r\n\r\n  public accountEditUpdate(data) {\r\n    return this.userData.getSessionKey()\r\n      .flatMap(\r\n        value => {\r\n          data.session_key = value;\r\n          return this.http.post(\r\n            this.apiUrl + '/user/account',\r\n            data\r\n          );\r\n        },\r\n      ).map( response => response.json() );\r\n  }\r\n\r\n  public leaderboard(lb_type) {\r\n    return this.userData.getSessionKey()\r\n      .flatMap(\r\n        key => {\r\n          return this.http.post(\r\n            this.apiUrl + '/stats/leaderboard',\r\n            {\r\n              session_key : key,\r\n              type : lb_type,\r\n            },\r\n          );\r\n        },\r\n      ).map( response => response.json() );\r\n  }\r\n\r\n  /* Links to server, these should be stored in config.js */\r\n  foodloop_root_url = \"http://app.peartrade.org/\";\r\n  foodloop_root_url_edit = this.foodloop_root_url + \"edit\";\r\n  foodloop_root_url_token = this.foodloop_root_url + \"token\";\r\n  foodloop_root_url_approve = this.foodloop_root_url + \"admin-approve\";\r\n\r\n  edit(data){\r\n    return this.http.post(this.foodloop_root_url_edit,data);\r\n  }\r\n\r\n  verifyToken(data){\r\n    return this.http.post(this.foodloop_root_url_token,data);\r\n  }\r\n\r\n  approve(data){\r\n    return this.http.post(this.foodloop_root_url_approve,data);\r\n  }\r\n\r\n\r\n/*********************** --  Data representation part -- **************************/\r\n  /* including get request to server to retrieve user data */\r\n  /* manipulation , calculation and respresentation of the retrieved data */\r\n\r\ngetChartData(type){\r\n  // api\r\n  // get request to retrieve user's point over different period of time\r\n  var chartData;\r\n  switch(type){\r\n    case \"point\":\r\n        chartData = {\r\n         type: 'line',\r\n         data:{\r\n           labels:[\"Mon\",\"Tue\",\"Wed\",\"Thur\",\"Fri\",\"Sat\",\"Sun\"],\r\n           datasets: [{\r\n\r\n             data: [333.30,350.55, 366.50, 400.00, 450.00, 506.66],\r\n             backgroundColor: [\r\n                'rgba(255, 99, 132, 0.2)',\r\n                'rgba(54, 162, 235, 0.2)',\r\n                'rgba(255, 206, 86, 0.2)',\r\n                'rgba(75, 192, 192, 0.2)',\r\n                'rgba(153, 102, 255, 0.2)',\r\n                'rgba(255, 159, 64, 0.2)'\r\n             ],\r\n             borderColor:[\r\n                'rgba(255,99,132,1)',\r\n                'rgba(54, 162, 235, 1)',\r\n                'rgba(255, 206, 86, 1)',\r\n                'rgba(75, 192, 192, 1)',\r\n                'rgba(153, 102, 255, 1)',\r\n                'rgba(255, 159, 64, 1)'\r\n             ],\r\n             borderWidth: 1\r\n           }]\r\n         },options: {\r\n                  scales: {\r\n            yAxes: [{\r\n                ticks: {\r\n                    beginAtZero:true\r\n                }\r\n            }]\r\n        },\r\n                title: {\r\n            display: true,\r\n            text: 'Daily overview'\r\n        }\r\n\r\n         }\r\n      };\r\n      return chartData;\r\n\r\n    case \"spent\":\r\n      break;\r\n    case \"respent\":\r\n      break;\r\n    case \"Daily\":\r\n      chartData = {\r\n         type: 'line',\r\n         data:{\r\n           labels:[\"Mon\",\"Tue\",\"Wed\",\"Thur\",\"Fri\",\"Sat\",\"Sun\"],\r\n           datasets: [{\r\n\r\n               data: [12, 19, 3, 5, 2, 3],\r\n             backgroundColor: [\r\n                'rgba(255, 99, 132, 0.2)',\r\n                'rgba(54, 162, 235, 0.2)',\r\n                'rgba(255, 206, 86, 0.2)',\r\n                'rgba(75, 192, 192, 0.2)',\r\n                'rgba(153, 102, 255, 0.2)',\r\n                'rgba(255, 159, 64, 0.2)'\r\n             ],\r\n             borderColor:[\r\n                'rgba(255,99,132,1)',\r\n                'rgba(54, 162, 235, 1)',\r\n                'rgba(255, 206, 86, 1)',\r\n                'rgba(75, 192, 192, 1)',\r\n                'rgba(153, 102, 255, 1)',\r\n                'rgba(255, 159, 64, 1)'\r\n             ],\r\n             borderWidth: 1\r\n           }]\r\n         },options: {\r\n                  scales: {\r\n            yAxes: [{\r\n                ticks: {\r\n                    beginAtZero:true\r\n                }\r\n            }]\r\n        },\r\n                title: {\r\n            display: true,\r\n            text: 'Daily overview'\r\n        }\r\n\r\n         }\r\n      };\r\n      return chartData;\r\n\r\n    case \"Weekly\":\r\n      chartData = {\r\n        type: \"bar\",\r\n        data:{\r\n        labels: [\"1st\", \"2nd\", \"3rd\", \"4th\", \"5th\"],\r\n        datasets: [\r\n        {\r\n            label: \"Top 5 Player\",\r\n            backgroundColor: [\r\n                'rgba(255, 99, 132, 0.2)',\r\n                'rgba(54, 162, 235, 0.2)',\r\n                'rgba(255, 206, 86, 0.2)',\r\n                'rgba(75, 192, 192, 0.2)',\r\n                'rgba(153, 102, 255, 0.2)',\r\n                'rgba(255, 159, 64, 0.2)'\r\n            ],\r\n            borderColor: [\r\n                'rgba(255,99,132,1)',\r\n                'rgba(54, 162, 235, 1)',\r\n                'rgba(255, 206, 86, 1)',\r\n                'rgba(75, 192, 192, 1)',\r\n                'rgba(153, 102, 255, 1)',\r\n                'rgba(255, 159, 64, 1)'\r\n            ],\r\n            borderWidth: 1,\r\n            data: [500, 400, 350, 325, 256],\r\n        }\r\n      ]\r\n        }\r\n      };\r\n      return chartData;\r\n\r\n    case \"Monthly\":\r\n      chartData = {};\r\n      return chartData;\r\n\r\n  }\r\n}\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/people-service.ts","import { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport 'rxjs/add/operator/map';\r\n/*\r\n  this ts file handles the user-data, including login, logout event\r\n  user-data management by storing data in the local storage\r\n  other pages can import this page and call method to retrieve user-data\r\n  such as getUsername()\r\n*/\r\n@Injectable()\r\nexport class UserData {\r\n\r\n  constructor(\r\n    private storage: Storage\r\n  ) {\r\n    this.loadTestingData();\r\n  }\r\n\r\n  // Session Key transactions\r\n\r\n  public setSessionKey(key: string) {\r\n    console.log(\"set sessionKey\");\r\n    this.storage.set('SessionKey',key);\r\n  }\r\n\r\n  public getSessionKey() {\r\n    console.log(\"get sessionKey\");\r\n    return Observable.fromPromise(\r\n      this.storage.get('SessionKey')\r\n    );\r\n  }\r\n\r\n  public removeSessionKey() {\r\n    console.log(\"remove sessionKey\");\r\n    this.storage.remove('SessionKey');\r\n  }\r\n\r\n  // Checks for first time entering app status\r\n\r\n  public setReturningEntry() {\r\n    console.log(\"set returning\");\r\n    // this.storage.set('returning',true);\r\n  }\r\n\r\n  public getReturningEntry() {\r\n    console.log(\"get returning\");\r\n    return Observable.fromPromise(\r\n      this.storage.get('returning')\r\n    );\r\n  }\r\n\r\n  // Checks for first time login\r\n\r\n  public setReturningLogin() {\r\n    console.log(\"set returninglogin\");\r\n    this.storage.set('returninglogin',true);\r\n  }\r\n\r\n  public getReturningLogin() {\r\n    console.log(\"get returninglogin\");\r\n    return Observable.fromPromise(\r\n      this.storage.get('returninglogin')\r\n    );\r\n  }\r\n\r\n  // Checks for login status\r\n\r\n  public hasLoggedIn() {\r\n    return this.getSessionKey().map(\r\n      result => result ? true : false\r\n    );\r\n  }\r\n\r\n  // Pulls user info to store locally on login\r\n\r\n  public setUserInfo(\r\n    email: string,\r\n    display_name: string) {\r\n    console.log(\"set UserInfo\");\r\n    this.storage.set('email',email);\r\n    this.storage.set('displayname',display_name);\r\n  }\r\n\r\n  // Deletes account details on logout\r\n\r\n  public removeUserInfo() {\r\n    console.log(\"remove UserInfo\");\r\n    this.storage.remove('email');\r\n    this.storage.remove('displayname');\r\n  }\r\n\r\n  public getFullName() {\r\n    console.log(\"get Full Name\");\r\n    return Observable.fromPromise(\r\n      this.storage.get('fullname')\r\n    );\r\n  }\r\n\r\n  public getDisplayName() {\r\n    console.log(\"get Display Name\");\r\n    return Observable.fromPromise(\r\n      this.storage.get('displayname')\r\n    );\r\n  }\r\n\r\n  public getPostcode() {\r\n    console.log(\"get Postcode\");\r\n    return Observable.fromPromise(\r\n      this.storage.get('postcode')\r\n    );\r\n  }\r\n\r\n  public getYearOfBirth() {\r\n    console.log(\"get Year of Birth\");\r\n    return Observable.fromPromise(\r\n      this.storage.get('yearofbirth')\r\n    );\r\n  }\r\n\r\n  public getEmail() {\r\n    console.log(\"get email\");\r\n    return Observable.fromPromise(\r\n      this.storage.get('email')\r\n    );\r\n  }\r\n\r\n  // Remove below if above code works\r\n\r\n  public setEmail(email: string) {\r\n    console.log(\"set Email\");\r\n    this.storage.set('email',email);\r\n  }\r\n\r\n  public removeEmail() {\r\n    console.log(\"remove email\");\r\n    this.storage.remove('email');\r\n  }\r\n\r\n  /* Testing purpose, ideally, these variable should be initilizaed via calling */\r\n  /* server APIs */\r\n  /* myData stores user detail including email, fullname, username and invitation token */\r\n  /* rankingData stores ranking data including monthly spend of user */\r\n  /* testingData store all data required for testing */\r\n\r\n  public myData:any;\r\n  public rankingData: any;\r\n  public testingData;\r\n\r\n  HAS_LOGGED_IN = 'hasLoggedIn';\r\n\r\n  /* Storage */\r\n  /* The data stored in storage is like cache data, the system should periodically update\r\n  these data to maintain the latest state */\r\n  // Game data, set of personal goals, ongoing progress of a goal\r\n  // User data, set of personal data to be displayed, username, profile pic, theme color\r\n\r\n\r\n  loadTestingData() {\r\n\r\n    /* Internal database for user testing, handles login, logoff and retrieves user-data */\r\n    this.testingData = {\r\n      test007: [\r\n        {\"username\": \"testingc@test.com\",\"password\":\"admin\",\"token\": \"test007\",\"fullname\": \"John Smtih\",\"email\" : \"testingc@test.com\",\"rankingID\": \"0\"}\r\n      ],\r\n      ranking:[\r\n        {token:\"d\",\"ref\":\"testingc@test.com\",\"username\": \"Dave Brookes\",\"previousPos\":1,\"currentPos\":1,\"pearPoint\":620.57,\"retailerSpent\":20,\"receiptSubmitted\":161,\"firstStart\":\"20-Jun-15\"},\r\n\r\n        {token:\"e\",\"ref\":\"admin\",\"username\": \"Michael Hallam\",\"previousPos\":2,\"currentPos\":2,\"pearPoint\":391.10,\"retailerSpent\":51,\"receiptSubmitted\":429,\"firstStart\":\"1-Jun-15\"},\r\n\r\n        {token:\"f\",\"ref\":\"test003\",\"username\": \"Steve Jenkins\",\"previousPos\":3,\"currentPos\":3,\"pearPoint\":208.62,\"retailerSpent\":13,\"receiptSubmitted\":97,\"firstStart\":\"12-Feb-16\"},\r\n\r\n        {token:\"g\",\"ref\":\"test004\",\"username\": \"Dawn Keyse\",\"previousPos\":5,\"currentPos\":4,\"pearPoint\":202.58,\"retailerSpent\":20,\"receiptSubmitted\":60,\"firstStart\":\"1-Jun-15\"},\r\n\r\n        {token:\"h\",\"ref\":\"test005\",\"username\": \"Beccy Whittle\",\"previousPos\":7,\"currentPos\":5,\"pearPoint\":173.20,\"retailerSpent\":12,\"receiptSubmitted\":64,\"firstStart\":\"22-Jul-15\"},\r\n\r\n        {token:\"i\",\"ref\":\"test006\",\"username\": \"Anna Clayton\",\"previousPos\":4,\"currentPos\":6,\"pearPoint\":169.93,\"retailerSpent\":18,\"receiptSubmitted\":51,\"firstStart\":\"10-Jun-15\"},\r\n\r\n        {token:\"j\",\"ref\":\"test007\",\"username\": \"Emily Heath\",\"previousPos\":6,\"currentPos\":7,\"pearPoint\":147.39,\"retailerSpent\":5,\"receiptSubmitted\":65,\"firstStart\":\"30-Jun-15\"},\r\n\r\n        {token:\"k\",\"ref\":\"test008\",\"username\": \"Mark Keating\",\"previousPos\":9,\"currentPos\":8,\"pearPoint\":143.46,\"retailerSpent\":11,\"receiptSubmitted\":56,\"firstStart\":\"14-Mar-16\"},\r\n\r\n        {token:\"l\",\"ref\":\"test009\",\"username\": \"Hannah Reade\",\"previousPos\":8,\"currentPos\":9,\"pearPoint\":138.77,\"retailerSpent\":9,\"receiptSubmitted\":40,\"firstStart\":\"15-Jan-16\"},\r\n\r\n        {token:\"m\",\"ref\":\"test010\",\"username\": \"Tony Haslam\",\"previousPos\":10,\"currentPos\":10,\"pearPoint\":113.02,\"retailerSpent\":14,\"receiptSubmitted\":61,\"firstStart\":\"10-Jun-15\"},\r\n\r\n        {token:\"w\",\"ref\":\"test011\",\"username\": \"Ruta Hallam\",\"previousPos\":11,\"currentPos\":11,\"pearPoint\":111.66,\"retailerSpent\":21,\"receiptSubmitted\":57,\"firstStart\":\"17-Jun-15\"},\r\n\r\n        {token:\"m\",\"ref\":\"test012\",\"username\": \"Andrew Willis\",\"previousPos\":12,\"currentPos\":12,\"pearPoint\":91.88,\"retailerSpent\":3,\"receiptSubmitted\":13,\"firstStart\":\"30-Apr-16\"}\r\n      ],\r\n      tokens:[\r\n        {\"tokenString\":\"test007\"},\r\n        {\"tokenString\":\"test008\"},\r\n        {\"tokenString\":\"test009\"},\r\n        {\"tokenString\":\"test0010\"},\r\n        {\"tokenString\":\"test0011\"},\r\n      ]\r\n    };\r\n    /* Testing */\r\n\r\n  }\r\n\r\n  random_data(username,fullname){\r\n       return   {token:\"d\",\"ref\":username,\"username\": fullname,\"previousPos\":1,\"currentPos\":1,\"pearPoint\":620.57,\"retailerSpent\":20,\"receiptSubmitted\":161,\"firstStart\":\"20-Jun-15\"};\r\n  }\r\n\r\n  /* Storage management and data access method */\r\n  getRankingData(){\r\n    return this.testingData.ranking;\r\n  }\r\n\r\n  getUsername() {\r\n    return this.storage.get('username').then((value) => {\r\n      return value;\r\n    });\r\n  };\r\n\r\n  setUsername(username: string) {\r\n    this.storage.set('username', username);\r\n  };\r\n\r\n\r\n\r\n  /* Storage management and data access method end */\r\n\r\n  /* Testing */\r\n  /* Gather data of the specified username and return packed data */\r\n  getMyData(username){\r\n\r\n    var filtered = this.testingData.ranking.filter(function(item) {\r\n      return item.ref === \"admin\";});\r\n      // console.log(filtered[1].username);\r\n      return new Promise((resolve,reject)=>resolve(filtered[\"0\"]));\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user-data.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n@Component({\r\n  selector: 'page-overview',\r\n  templateUrl: 'overview.html'\r\n})\r\nexport class OverviewPage {\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams) {}\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad OverviewPage');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/overview/overview.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n@Component({\r\n  selector: 'page-game',\r\n  templateUrl: 'game.html'\r\n})\r\nexport class GamePage {\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams) {}\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad GamePage');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/game/game.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\n/*\r\n  Generated class for the Shop page.\r\n\r\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\r\n  Ionic pages and navigation.\r\n*/\r\n@Component({\r\n  selector: 'page-shop',\r\n  templateUrl: 'shop.html'\r\n})\r\nexport class ShopPage {\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams) {}\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad ShopPage');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shop/shop.ts","import { Component , ViewChild, ElementRef } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { Chart } from 'chart.js';\r\nimport { PeopleService } from '../../providers/people-service';\r\nimport { UserData } from '../../providers/user-data';\r\n\r\n/*\r\n  this defines the representation of data in list and chart\r\n*/\r\n@Component({\r\n  selector: 'page-stat',\r\n  templateUrl: 'stat.html',\r\n  providers: [PeopleService,UserData]\r\n\r\n})\r\nexport class StatPage {\r\n  // get element by id -> barCanvas\r\n  @ViewChild('lineCanvas') lineCanvas: ElementRef;\r\n\r\n\r\n  innerTabCtrl; // set default style of the page as list\r\n  sessionToken;\r\n  //  varibles of chart\r\n  rankChart: any;   // shows changes in rankChart\r\n  pointChart: any;  // shows changes in pear point over a period of time\r\n  spentChart: any;  // shows changes in spent over a period of time\r\n  respentChart: any; // shows changes in respent over a period of time\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public peopleService: PeopleService,\r\n    public userData : UserData\r\n    ) {\r\n    this.innerTabCtrl = \"Chart\";  // Default representation of the page is Chart\r\n     // get session token\r\n    //     this.userData.getSessionKey().then(token => {\r\n    //this.sessionToken = token;\r\n    //}).catch(error => alert(error));\r\n  }\r\n\r\n\r\n  ionViewDidEnter() {\r\n   // getting chart data\r\n   this.initCharts();\r\n  }\r\n\r\n\r\n/*********************** --  Data representation part -- **************************/\r\n  /* including calling provider whihc calls api to retrieve user data */\r\n  /* navigation and respresentation of the retrieved data */\r\n\r\n  initCharts(){\r\n    console.log(\"initCharts\");\r\n    this.pointChart = new Chart(this.lineCanvas.nativeElement,this.peopleService.getChartData(\"point\"));\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stat/stat.ts","import { Component } from '@angular/core';\r\nimport { PeopleService } from '../../providers/people-service';\r\n\r\n/*\r\n This page represent a leaderboard page/leaderboard.\r\n display players in leaderboard and highlight important information\r\n*/\r\n@Component({\r\n  selector: 'page-leaderboard',\r\n  templateUrl: 'leaderboard.html',\r\n  providers: [PeopleService]\r\n})\r\nexport class LeaderboardPage {\r\n\r\n  leaderboardData: Array<any>;\r\n  currentPos: number;\r\n  listType: any = 'weekly_total';\r\n\r\n  constructor(\r\n    private peopleService : PeopleService,\r\n  ) {}\r\n\r\n  private fetchLeaderboard() {\r\n    this.peopleService.leaderboard(this.listType)\r\n      .subscribe(\r\n        result => {\r\n          this.leaderboardData = result.leaderboard;\r\n          this.currentPos = result.user_position;\r\n        }\r\n      );\r\n  }\r\n\r\n  public changeLeaderboard(event) {\r\n    this.fetchLeaderboard();\r\n  }\r\n\r\n  // dynamically changes the row style based on  player's position\r\n  // for instance, top three player and the player him/herself should\r\n  // be hightlighted\r\n  public getClass(item) {\r\n    if( item.position < 4 ) {\r\n      return \"topThree\";\r\n    } else if( item.position == this.currentPos ) {\r\n      return \"user\";\r\n    }\r\n    return \"otherUsers\";\r\n  }\r\n\r\n  // show changes by using icon, trending up and trending down or no trend.\r\n  public getTrendIcon(item){\r\n    if( item.trend < 0 ){\r\n      return \"md-trending-up\";\r\n    } else if( item.trend > 0 ){\r\n      return \"md-trending-down\";\r\n    }\r\n    return \"md-remove\";\r\n  }\r\n\r\n  // need to merge this function with getIcon\r\n  // this function shows different icon color based on the direction of the position shifted\r\n  public getTrendIconColor(item){\r\n    if( item.trend < 0 ) {\r\n      return \"secondary\";\r\n    } else if( item.trend > 0 ){\r\n      return \"danger\";\r\n    }\r\n    return \"dark\";\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/leaderboard/leaderboard.ts","import { Component } from '@angular/core';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Events, ToastController, LoadingController } from 'ionic-angular';\r\nimport { PeopleService } from '../../providers/people-service';\r\nimport { UserData } from '../../providers/user-data';\r\n\r\n\r\n/*\r\n  Generated class for the Setting page.\r\n\r\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\r\n  Ionic pages and navigation.\r\n*/\r\n@Component({\r\n  selector: 'page-setting',\r\n  templateUrl: 'setting.html',\r\n  providers: [UserData]\r\n})\r\nexport class SettingPage {\r\n  setting: FormGroup;\r\n\r\n  constructor(\r\n    public userData: UserData,\r\n    public events: Events,\r\n    public peopleService: PeopleService,\r\n    private formBuilder: FormBuilder,\r\n    private loadingCtrl: LoadingController,\r\n    private toastCtrl: ToastController\r\n  ) {\r\n      this.setting = this.formBuilder.group({\r\n        full_name     : ['', [Validators.required]],\r\n        display_name  : ['', [Validators.required]],\r\n        email         : ['', [Validators.required]],\r\n        postcode      : ['', [Validators.required]],\r\n        password      : ['', [Validators.required]],\r\n        new_password   : [''],\r\n      });\r\n\r\n\r\n  }\r\n\r\n  /* When the page is fully loaded */\r\n  public ionViewWillEnter() {\r\n    this.peopleService.accountFullLoad().subscribe(\r\n      result => {\r\n        this.setting.setValue({\r\n          full_name: result.full_name,\r\n          display_name: result.display_name,\r\n          email: result.email,\r\n          postcode: result.postcode,\r\n          password: '',\r\n          new_password: '',\r\n        });\r\n        this.userData.setUserInfo( result.email, result.display_name );\r\n      },\r\n      err => {\r\n        let toast = this.toastCtrl.create({\r\n          message: 'Unable to retrieve account - are you connected to a network?',\r\n          duration: 6000,\r\n          position: 'top'\r\n        });\r\n        toast.present();\r\n      }\r\n    );\r\n  }\r\n\r\n  onSubmit() {\r\n    console.log(this.setting.value, this.setting.valid);\r\n\r\n    let loading = this.loadingCtrl.create({\r\n       content: 'Editing your account...'\r\n    });\r\n    loading.present();\r\n\r\n    this.peopleService\r\n      .accountEditUpdate(this.setting.value)\r\n      .subscribe(\r\n        result => {\r\n          loading.dismiss();\r\n          let toast = this.toastCtrl.create({\r\n            message: 'Edited Account Successfully',\r\n            duration: 6000,\r\n            position: 'top'\r\n          });\r\n          toast.present();\r\n        },\r\n        error => {\r\n          loading.dismiss();\r\n          console.log( error._body );\r\n          let toast = this.toastCtrl.create({\r\n            message: JSON.parse(error._body).message,\r\n            duration: 6000,\r\n            position: 'top'\r\n          });\r\n          toast.present();\r\n        }\r\n      );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/setting/setting.ts","import { Component } from '@angular/core';\r\nimport { PeopleService } from '../../providers/people-service';\r\nimport {\r\n GoogleMaps,\r\n GoogleMap,\r\n GoogleMapsEvent,\r\n GoogleMapOptions,\r\n CameraPosition,\r\n LatLng,\r\n LatLngBounds,\r\n MarkerOptions,\r\n Marker\r\n} from '@ionic-native/google-maps';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { Platform } from 'ionic-angular';\r\n\r\n@Component({\r\n  selector: 'map',\r\n  templateUrl: 'map.html',\r\n  providers: [PeopleService]\r\n})\r\nexport class MapPage {\r\n  map: GoogleMap;\r\n  mapElement: HTMLElement;\r\n  constructor(\r\n    private googleMaps: GoogleMaps,\r\n    public platform: Platform,\r\n    private geolocation: Geolocation,\r\n  ) {\r\n    // Wait the native plugin is ready.\r\n    platform.ready().then(() => {\r\n      this.loadMap();\r\n      let watch = this.geolocation.watchPosition();\r\n        watch.subscribe((data) => {\r\n          let location = new LatLng(data.coords.latitude, data.coords.longitude);\r\n          this.map.animateCamera({\r\n          target: {lat: data.coords.latitude, lng: data.coords.longitude},\r\n          //target: {lat: data.coords.latitude, lng: data.coords.longitude},\r\n          zoom: 18,\r\n          tilt: 30,\r\n          bearing: 140,\r\n          duration: 5000,\r\n          padding: 0  // default = 20px\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  // Don't use the ngAfterViewInit(). The native plugin is not ready.\r\n  //ngAfterViewInit() {\r\n  // this.loadMap();\r\n  //}\r\n\r\n loadMap() {\r\n   this.mapElement = document.getElementById('map_orgs');\r\n\r\n   let mapOptions: GoogleMapOptions = {\r\n     camera: {\r\n       target: {\r\n         lat: 0,\r\n         lng: 0\r\n       },\r\n       zoom: 18,\r\n       tilt: 30\r\n     }\r\n   };\r\n\r\n  this.geolocation.getCurrentPosition({ maximumAge: 3000, timeout: 5000, enableHighAccuracy: true })\r\n    .then((resp) => {\r\n      let mapOptions: GoogleMapOptions = {\r\n        camera: {\r\n          target: {\r\n            lat: resp.coords.latitude,\r\n            lng: resp.coords.longitude\r\n          },\r\n          zoom: 18,\r\n          tilt: 30\r\n        }\r\n      };\r\n\r\n\r\n      this.map = this.googleMaps.create(this.mapElement, mapOptions);\r\n    }).catch((error) => {\r\n      console.log('Error getting location', error);\r\n  });\r\n\r\n  this.map = this.googleMaps.create(this.mapElement, mapOptions);\r\n\r\n  // Wait the MAP_READY before using any methods.\r\n  this.map.one(GoogleMapsEvent.MAP_READY)\r\n    .then(() => {\r\n      console.log('Map is ready!');\r\n\r\n      let mapBox = this.map.getVisibleRegion();\r\n      console.log(mapBox);\r\n\r\n      // Now you can use all methods safely.\r\n      this.map.addMarker({\r\n          title: 'Ionic',\r\n          icon: 'blue',\r\n          animation: 'DROP',\r\n          position: {\r\n            lat: 43.0741904,\r\n            lng: -89.3809802\r\n          }\r\n        })\r\n        .then(marker => {\r\n          marker.on(GoogleMapsEvent.MARKER_CLICK)\r\n            .subscribe(() => {\r\n              alert('clicked');\r\n            });\r\n        });\r\n\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/map/map.ts","/* Main application entry point. This is where the actual application is\r\n * bootstrapped from.\r\n */\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule } from '@angular/core';\r\nimport { IonicApp, IonicModule } from 'ionic-angular';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpModule } from '@angular/http';\r\nimport { ErrorHandler } from '@angular/core';\r\nimport { IonicErrorHandler } from 'ionic-angular';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { Transfer } from '@ionic-native/transfer';\r\nimport { Camera } from '@ionic-native/camera';\r\nimport { Keyboard } from '@ionic-native/keyboard';\r\nimport { FilePath } from '@ionic-native/file-path';\r\nimport { File } from '@ionic-native/file';\r\nimport { AppVersion } from '@ionic-native/app-version';\r\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\r\nimport { GoogleMaps } from '@ionic-native/google-maps'\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { TruncateModule } from 'ng2-truncate';\r\n\r\n// import { AppProviders } from './app.providers';\r\n\r\nimport { MyApp } from './app.component';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { FeedbackPage } from '../pages/feedback/feedback';\r\nimport { SignupPage } from '../pages/signup/signup';\r\nimport { AboutPage } from '../pages/about/about';\r\nimport { ReceiptPage } from '../pages/receipt/receipt';\r\nimport { UserPage } from '../pages/user/user';\r\nimport { LeaderboardPage } from '../pages/leaderboard/leaderboard';\r\nimport { SettingPage } from '../pages/setting/setting';\r\nimport { GamePage } from '../pages/game/game';\r\nimport { AchievementPage } from '../pages/achievement/achievement';\r\nimport { OverviewPage } from '../pages/overview/overview';\r\nimport { ShopPage } from '../pages/shop/shop';\r\nimport { StatPage } from '../pages/stat/stat';\r\nimport { IntroPage } from '../pages/intro/intro';\r\nimport { MapPage } from '../pages/map/map';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    LoginPage,\r\n    FeedbackPage,\r\n    SignupPage,\r\n    AboutPage,\r\n    ReceiptPage,\r\n    UserPage,\r\n    LeaderboardPage,\r\n    SettingPage,\r\n    OverviewPage,\r\n    GamePage,\r\n    AchievementPage,\r\n    ShopPage,\r\n    StatPage,\r\n    IntroPage,\r\n    MapPage,\r\n  ],\r\n  imports: [\r\n    IonicModule.forRoot(MyApp,{ scrollAssist: false, autoFocusAssist: false }),\r\n    IonicStorageModule.forRoot(),\r\n    BrowserModule,\r\n    HttpModule,\r\n    TruncateModule,\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    LoginPage,\r\n    FeedbackPage,\r\n    SignupPage,\r\n    AboutPage,\r\n    ReceiptPage,\r\n    UserPage,\r\n    LeaderboardPage,\r\n    SettingPage,\r\n    OverviewPage,\r\n    GamePage,\r\n    AchievementPage,\r\n    ShopPage,\r\n    StatPage,\r\n    IntroPage,\r\n    MapPage,\r\n  ],\r\n  providers: [\r\n    Transfer,\r\n    SplashScreen,\r\n    Keyboard,\r\n    FilePath,\r\n    File,\r\n    Camera,\r\n    AppVersion,\r\n    InAppBrowser,\r\n    GoogleMaps,\r\n    Geolocation,\r\n    {\r\n      provide: ErrorHandler,\r\n      useClass: IonicErrorHandler\r\n    }\r\n  ],\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { FeedbackPage } from '../pages/feedback/feedback';\r\nimport { IntroPage } from '../pages/intro/intro';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { AboutPage } from '../pages/about/about';\r\nimport { UserPage} from '../pages/user/user';\r\nimport { ReceiptPage } from '../pages/receipt/receipt';\r\nimport { LeaderboardPage } from '../pages/leaderboard/leaderboard';\r\nimport { SettingPage} from '../pages/setting/setting';\r\nimport { MapPage} from '../pages/map/map';\r\n// import { StatPage} from '../pages/stat/stat';\r\nimport { Platform, MenuController, Nav, Events } from 'ionic-angular';\r\n\r\nimport { PeopleService } from '../providers/people-service';\r\nimport { UserData } from '../providers/user-data';\r\n\r\nexport interface PageInterface {\r\n  title: string;\r\n  component: any;\r\n  icon: string;\r\n  logsOut?: boolean;\r\n  index?: number;\r\n  tabComponent?: any;\r\n}\r\n\r\n\r\n/* app.html as the root page */\r\n/* This file is usually used as shell to load other Components*/\r\n@Component({\r\n  templateUrl: 'app.html',\r\n  providers: [UserData, PeopleService]\r\n})\r\n\r\n\r\nexport class MyApp {\r\n  @ViewChild(Nav) nav: Nav;\r\n\r\n  // Defines differnet page when this application is first loaded\r\n\r\n\r\n  // for logged in user\r\n  loggedInPages: PageInterface[]= [\r\n  { title: 'Home', component: UserPage, icon: 'home' },\r\n  { title: 'Add Receipt',component: ReceiptPage, index:3,icon: 'filing'},\r\n  { title: 'Leaderboard',component: LeaderboardPage, index:5,icon: 'stats'},\r\n  // Commented out until it has data\r\n  // { title: 'Graphs',component: StatPage, index:7,icon: 'analytics'},\r\n\t{ title: 'Account',component: SettingPage, index:9,icon: 'person'},\r\n\t// The about page is currently the Guide page, need a whole guide page and About be about the app\r\n\t{ title: 'Guide',component: AboutPage, index:11,icon: 'globe'},\r\n  { title: 'Feedback', component: FeedbackPage, index:13,icon: 'mail' },\r\n  { title: 'Map', component: MapPage, index:15,icon: 'map' },\r\n  { title: 'Logout', component: LoginPage, icon: 'log-out',index:30, logsOut: true }\r\n  ];\r\n\r\n  // for not login user\r\n  loggedOutPages: PageInterface[] = [\r\n    { title: 'Login', component: LoginPage, icon: 'person' },\r\n    { title: 'Guide', component: AboutPage, icon: 'globe' },\r\n    { title: 'Feedback', component: FeedbackPage, icon: 'mail' }\r\n  ];\r\n\r\n  // specify which pages to display first\r\n  public rootPage : any;\r\n\r\n\r\n  constructor(\r\n    public platform: Platform,\r\n    public menu: MenuController,\r\n    public events: Events,\r\n    public userData: UserData,\r\n    public splashScreen: SplashScreen,\r\n    public peopleService: PeopleService,\r\n\r\n  ) {\r\n\r\n  /* Check if localCache exsit, if yes, auto-login */\r\n  /* if not, redirect to the home page for login or sign up*/\r\n\r\n\r\n    this.userData.hasLoggedIn().subscribe(\r\n      result => {\r\n        if (result) {\r\n          console.log('User is logged in, rendering User');\r\n          this.renderUserPage();\r\n        } else {\r\n          console.log('User is not logged in, rendering Login');\r\n          this.renderLoginPage();\r\n        }\r\n      },\r\n      err => {\r\n        console.log('Error checking if logged in, assuming not');\r\n        this.renderLoginPage();\r\n      }\r\n    );\r\n\r\n    this.listenToLoginEvents();\r\n  }\r\n\r\n  renderLoginPage() {\r\n    this.userData.getReturningEntry().subscribe(\r\n      result => {\r\n        if (result == true) {\r\n          console.log('Returning User, do not show intro page');\r\n          this.rootPage = LoginPage;\r\n          this.enableMenu(false);\r\n          this.platformReady();\r\n        } else {\r\n          console.log('First time user, show intro page');\r\n          this.rootPage = IntroPage;\r\n          this.enableMenu(false);\r\n          this.platformReady();\r\n        }\r\n      },\r\n      err => {\r\n        console.log('Error checking if returning user');\r\n      }\r\n    );\r\n    this.rootPage = LoginPage;\r\n    this.enableMenu(false);\r\n    this.platformReady();\r\n  }\r\n\r\n  renderUserPage() {\r\n    this.rootPage = UserPage;\r\n    this.enableMenu(true);\r\n    this.platformReady();\r\n  }\r\n\r\n  listenToLoginEvents() {\r\n    this.events.subscribe('user:login', () => {\r\n      this.enableMenu(true);\r\n    });\r\n\r\n    this.events.subscribe('user:signup', () => {\r\n      this.enableMenu(true);\r\n    });\r\n\r\n    this.events.subscribe('user:logout', () => {\r\n      this.enableMenu(false);\r\n    });\r\n  }\r\n\r\n// if true shows logged in menu, if false shows logged out menu\r\n  enableMenu(loggedIn: boolean) {\r\n    this.menu.enable(loggedIn, 'loggedInMenu');\r\n    this.menu.enable(!loggedIn, 'loggedOutMenu');\r\n  }\r\n\r\n  platformReady() {\r\n    // Call any initial plugins when ready\r\n    this.platform.ready().then(() => {\r\n      this.splashScreen.hide();\r\n    });\r\n  }\r\n\r\n  openPage(page: PageInterface) {\r\n    // the nav component was found using @ViewChild(Nav)\r\n    // reset the nav to remove previous pages and only have this pag\r\n\r\n    this.nav.setRoot(page.component);\r\n\r\n    if (page.logsOut === true) {\r\n      // Give the menu time to close before changing to logged out\r\n      setTimeout(() => {\r\n        this.events.publish('user:logout');\r\n        this.peopleService.logout().subscribe(\r\n          result => console.log('successfully logged out'),\r\n          err => console.log('something went wrong when logging out'),\r\n        );\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  isActive(page: PageInterface) {\r\n    let childNav = this.nav.getActiveChildNavs()[0];\r\n\r\n    // Tabs are a special case because they have their own navigation\r\n    if (childNav) {\r\n      if (childNav.getSelected() && childNav.getSelected().root === page.tabComponent) {\r\n        return 'light-grey';\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (this.nav.getActive() && this.nav.getActive().component === page.component) {\r\n      return 'light-grey';\r\n    }\r\n    return;\r\n}\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable } from '@angular/core';\r\n\r\ndeclare const webpackGlobalVars: any;\r\n\r\n@Injectable()\r\nexport class ConfigurationService {\r\n    public static apiUrl = webpackGlobalVars.api_url;\r\n\r\n    // Add more configuration variables as needed\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/configuration.service.ts","var map = {\n\t\"./af\": 279,\n\t\"./af.js\": 279,\n\t\"./ar\": 280,\n\t\"./ar-dz\": 281,\n\t\"./ar-dz.js\": 281,\n\t\"./ar-kw\": 282,\n\t\"./ar-kw.js\": 282,\n\t\"./ar-ly\": 283,\n\t\"./ar-ly.js\": 283,\n\t\"./ar-ma\": 284,\n\t\"./ar-ma.js\": 284,\n\t\"./ar-sa\": 285,\n\t\"./ar-sa.js\": 285,\n\t\"./ar-tn\": 286,\n\t\"./ar-tn.js\": 286,\n\t\"./ar.js\": 280,\n\t\"./az\": 287,\n\t\"./az.js\": 287,\n\t\"./be\": 288,\n\t\"./be.js\": 288,\n\t\"./bg\": 289,\n\t\"./bg.js\": 289,\n\t\"./bn\": 290,\n\t\"./bn.js\": 290,\n\t\"./bo\": 291,\n\t\"./bo.js\": 291,\n\t\"./br\": 292,\n\t\"./br.js\": 292,\n\t\"./bs\": 293,\n\t\"./bs.js\": 293,\n\t\"./ca\": 294,\n\t\"./ca.js\": 294,\n\t\"./cs\": 295,\n\t\"./cs.js\": 295,\n\t\"./cv\": 296,\n\t\"./cv.js\": 296,\n\t\"./cy\": 297,\n\t\"./cy.js\": 297,\n\t\"./da\": 298,\n\t\"./da.js\": 298,\n\t\"./de\": 299,\n\t\"./de-at\": 300,\n\t\"./de-at.js\": 300,\n\t\"./de-ch\": 301,\n\t\"./de-ch.js\": 301,\n\t\"./de.js\": 299,\n\t\"./dv\": 302,\n\t\"./dv.js\": 302,\n\t\"./el\": 303,\n\t\"./el.js\": 303,\n\t\"./en-au\": 304,\n\t\"./en-au.js\": 304,\n\t\"./en-ca\": 305,\n\t\"./en-ca.js\": 305,\n\t\"./en-gb\": 306,\n\t\"./en-gb.js\": 306,\n\t\"./en-ie\": 307,\n\t\"./en-ie.js\": 307,\n\t\"./en-nz\": 308,\n\t\"./en-nz.js\": 308,\n\t\"./eo\": 309,\n\t\"./eo.js\": 309,\n\t\"./es\": 310,\n\t\"./es-do\": 311,\n\t\"./es-do.js\": 311,\n\t\"./es.js\": 310,\n\t\"./et\": 312,\n\t\"./et.js\": 312,\n\t\"./eu\": 313,\n\t\"./eu.js\": 313,\n\t\"./fa\": 314,\n\t\"./fa.js\": 314,\n\t\"./fi\": 315,\n\t\"./fi.js\": 315,\n\t\"./fo\": 316,\n\t\"./fo.js\": 316,\n\t\"./fr\": 317,\n\t\"./fr-ca\": 318,\n\t\"./fr-ca.js\": 318,\n\t\"./fr-ch\": 319,\n\t\"./fr-ch.js\": 319,\n\t\"./fr.js\": 317,\n\t\"./fy\": 320,\n\t\"./fy.js\": 320,\n\t\"./gd\": 321,\n\t\"./gd.js\": 321,\n\t\"./gl\": 322,\n\t\"./gl.js\": 322,\n\t\"./gom-latn\": 323,\n\t\"./gom-latn.js\": 323,\n\t\"./he\": 324,\n\t\"./he.js\": 324,\n\t\"./hi\": 325,\n\t\"./hi.js\": 325,\n\t\"./hr\": 326,\n\t\"./hr.js\": 326,\n\t\"./hu\": 327,\n\t\"./hu.js\": 327,\n\t\"./hy-am\": 328,\n\t\"./hy-am.js\": 328,\n\t\"./id\": 329,\n\t\"./id.js\": 329,\n\t\"./is\": 330,\n\t\"./is.js\": 330,\n\t\"./it\": 331,\n\t\"./it.js\": 331,\n\t\"./ja\": 332,\n\t\"./ja.js\": 332,\n\t\"./jv\": 333,\n\t\"./jv.js\": 333,\n\t\"./ka\": 334,\n\t\"./ka.js\": 334,\n\t\"./kk\": 335,\n\t\"./kk.js\": 335,\n\t\"./km\": 336,\n\t\"./km.js\": 336,\n\t\"./kn\": 337,\n\t\"./kn.js\": 337,\n\t\"./ko\": 338,\n\t\"./ko.js\": 338,\n\t\"./ky\": 339,\n\t\"./ky.js\": 339,\n\t\"./lb\": 340,\n\t\"./lb.js\": 340,\n\t\"./lo\": 341,\n\t\"./lo.js\": 341,\n\t\"./lt\": 342,\n\t\"./lt.js\": 342,\n\t\"./lv\": 343,\n\t\"./lv.js\": 343,\n\t\"./me\": 344,\n\t\"./me.js\": 344,\n\t\"./mi\": 345,\n\t\"./mi.js\": 345,\n\t\"./mk\": 346,\n\t\"./mk.js\": 346,\n\t\"./ml\": 347,\n\t\"./ml.js\": 347,\n\t\"./mr\": 348,\n\t\"./mr.js\": 348,\n\t\"./ms\": 349,\n\t\"./ms-my\": 350,\n\t\"./ms-my.js\": 350,\n\t\"./ms.js\": 349,\n\t\"./my\": 351,\n\t\"./my.js\": 351,\n\t\"./nb\": 352,\n\t\"./nb.js\": 352,\n\t\"./ne\": 353,\n\t\"./ne.js\": 353,\n\t\"./nl\": 354,\n\t\"./nl-be\": 355,\n\t\"./nl-be.js\": 355,\n\t\"./nl.js\": 354,\n\t\"./nn\": 356,\n\t\"./nn.js\": 356,\n\t\"./pa-in\": 357,\n\t\"./pa-in.js\": 357,\n\t\"./pl\": 358,\n\t\"./pl.js\": 358,\n\t\"./pt\": 359,\n\t\"./pt-br\": 360,\n\t\"./pt-br.js\": 360,\n\t\"./pt.js\": 359,\n\t\"./ro\": 361,\n\t\"./ro.js\": 361,\n\t\"./ru\": 362,\n\t\"./ru.js\": 362,\n\t\"./sd\": 363,\n\t\"./sd.js\": 363,\n\t\"./se\": 364,\n\t\"./se.js\": 364,\n\t\"./si\": 365,\n\t\"./si.js\": 365,\n\t\"./sk\": 366,\n\t\"./sk.js\": 366,\n\t\"./sl\": 367,\n\t\"./sl.js\": 367,\n\t\"./sq\": 368,\n\t\"./sq.js\": 368,\n\t\"./sr\": 369,\n\t\"./sr-cyrl\": 370,\n\t\"./sr-cyrl.js\": 370,\n\t\"./sr.js\": 369,\n\t\"./ss\": 371,\n\t\"./ss.js\": 371,\n\t\"./sv\": 372,\n\t\"./sv.js\": 372,\n\t\"./sw\": 373,\n\t\"./sw.js\": 373,\n\t\"./ta\": 374,\n\t\"./ta.js\": 374,\n\t\"./te\": 375,\n\t\"./te.js\": 375,\n\t\"./tet\": 376,\n\t\"./tet.js\": 376,\n\t\"./th\": 377,\n\t\"./th.js\": 377,\n\t\"./tl-ph\": 378,\n\t\"./tl-ph.js\": 378,\n\t\"./tlh\": 379,\n\t\"./tlh.js\": 379,\n\t\"./tr\": 380,\n\t\"./tr.js\": 380,\n\t\"./tzl\": 381,\n\t\"./tzl.js\": 381,\n\t\"./tzm\": 382,\n\t\"./tzm-latn\": 383,\n\t\"./tzm-latn.js\": 383,\n\t\"./tzm.js\": 382,\n\t\"./uk\": 384,\n\t\"./uk.js\": 384,\n\t\"./ur\": 385,\n\t\"./ur.js\": 385,\n\t\"./uz\": 386,\n\t\"./uz-latn\": 387,\n\t\"./uz-latn.js\": 387,\n\t\"./uz.js\": 386,\n\t\"./vi\": 388,\n\t\"./vi.js\": 388,\n\t\"./x-pseudo\": 389,\n\t\"./x-pseudo.js\": 389,\n\t\"./yo\": 390,\n\t\"./yo.js\": 390,\n\t\"./zh-cn\": 391,\n\t\"./zh-cn.js\": 391,\n\t\"./zh-hk\": 392,\n\t\"./zh-hk.js\": 392,\n\t\"./zh-tw\": 393,\n\t\"./zh-tw.js\": 393\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 727;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 727\n// module chunks = 0","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\n/*\r\n  Generated class for the Achievement page.\r\n\r\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\r\n  Ionic pages and navigation.\r\n*/\r\n@Component({\r\n  selector: 'page-achievement',\r\n  templateUrl: 'achievement.html'\r\n})\r\nexport class AchievementPage {\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams) {}\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad AchievementPage');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/achievement/achievement.ts","import { Component,ViewChild } from '@angular/core';\r\nimport {\r\n  NavController,\r\n  NavParams,\r\n  Slides,\r\n  ToastController,\r\n  AlertController,\r\n} from 'ionic-angular';\r\nimport { ReceiptPage } from '../receipt/receipt';\r\nimport { OverviewPage } from '../overview/overview';\r\nimport { AboutPage } from '../about/about';\r\nimport { GamePage } from '../game/game';\r\nimport { ShopPage } from '../shop/shop';\r\nimport { StatPage } from '../stat/stat';\r\nimport { PeopleService} from '../../providers/people-service';\r\nimport { UserData} from '../../providers/user-data';\r\n\r\n/*\r\n  this page is created for navigating user through differnet feature of the app\r\n  as the development goes, more features can be added to this page\r\n  quite similiar to a index page\r\n*/\r\n@Component({\r\n  selector: 'page-user',\r\n  templateUrl: 'user.html',\r\n  providers: [PeopleService,UserData]\r\n})\r\nexport class UserPage {\r\n  // get element by id -> barCanvas\r\n  @ViewChild('barCanvas') barCanvas;\r\n  @ViewChild('pieCanvas') pieCanvas;\r\n  @ViewChild('lineCanvas') lineCanvas;\r\n  @ViewChild(Slides) slides: Slides;\r\n\r\n  //  varibels for displaying welcome message board\r\n  public status: any;\r\n  lineChart: any;\r\n  barChart: any;\r\n  pieChart: any;\r\n\r\n  public receiptPage;\r\n  public gamePage;\r\n  public shopPage;\r\n  public statPage;\r\n\r\n  /* Setting up dashboard's main variables*/\r\n  name: any;\r\n  email:any;\r\n  myPearPoints: any;\r\n  trends: any;\r\n  myRank: any;\r\n  username: any;\r\n  positionShift: any;   // display different icon based on the current pos and previous pos\r\n\r\n  basicStats = {\r\n    today_sum: 0,\r\n    today_count: 0,\r\n    week_sum: 0,\r\n    week_count: 0,\r\n    month_sum: 0,\r\n    month_count: 0,\r\n    user_sum: 0,\r\n    user_count: 0,\r\n    global_sum: 0,\r\n    global_count: 0,\r\n    user_position: 0,\r\n  };\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public peopleService: PeopleService,\r\n    public userData : UserData,\r\n    private toastCtrl: ToastController,\r\n    private alertCtrl: AlertController,\r\n  ) {\r\n    this.receiptPage = ReceiptPage;\r\n    this.gamePage = GamePage;\r\n    this.shopPage = ShopPage;\r\n    this.statPage = StatPage;\r\n    this.status = \"Weekly\"; // defualt chart is Daily\r\n\r\n  }\r\n  /* When the page is fully loaded */\r\n  public ionViewWillEnter() {\r\n    this.getUserDisplayName();\r\n    this.peopleService.basicStats().subscribe(\r\n      result => {\r\n        this.basicStats = result;\r\n      },\r\n      err => {\r\n        let toast = this.toastCtrl.create({\r\n          message: 'Unable to retrieve stats - are you connected to a network?',\r\n          duration: 6000,\r\n          position: 'top'\r\n        });\r\n        toast.present();\r\n      }\r\n    );\r\n    this.userData.getReturningLogin().subscribe(\r\n      result => {\r\n        if (result == true) {\r\n          console.log('Returning User, do not show guide');\r\n        } else {\r\n          console.log('First time user, prompt the guide');\r\n          this.readGuidePrompt();\r\n          this.userData.setReturningLogin();\r\n        }\r\n      },\r\n      err => {\r\n        console.log('Error checking if returning user');\r\n      }\r\n    );\r\n  }\r\n\r\n ionViewDidLoad() {\r\n   //  this.initCharts();\r\n }\r\n\r\n  addReceipt(){\r\n    this.navCtrl.setRoot(ReceiptPage);\r\n  }\r\n\r\n  overview(){\r\n    this.navCtrl.setRoot(OverviewPage);\r\n  }\r\n\r\n  getUserDisplayName() {\r\n    this.userData.getDisplayName().subscribe(\r\n      result => {\r\n        if (result) {\r\n          console.log('Display Name has been received');\r\n          this.name = result;\r\n        } else {\r\n          console.log('Display Name is not available');\r\n        }\r\n      },\r\n      err => {\r\n        console.log('Display Name could not be received');\r\n      }\r\n    );\r\n  }\r\n\r\n  readGuidePrompt() {\r\n  let alert = this.alertCtrl.create({\r\n    title: 'Welcome new user!',\r\n    message: 'As this may be your first time here, do you want to read the intro guide?',\r\n    buttons: [\r\n      {\r\n        text: 'No Thanks',\r\n        role: 'cancel',\r\n        handler: () => {\r\n          console.log('Cancel clicked');\r\n        }\r\n      },\r\n      {\r\n        text: 'Show Me!',\r\n        handler: () => {\r\n          console.log('Redirect clicked');\r\n          this.navCtrl.setRoot(AboutPage);\r\n        }\r\n      }\r\n    ]\r\n  });\r\n  alert.present();\r\n}\r\n\r\n\r\n/*********************** --  Data representation part -- **************************/\r\n  /* including calling provider whihc calls api to retrieve user data */\r\n  /* navigation and respresentation of the retrieved data */\r\n\r\n//  initCharts(){\r\n//\r\n//    this.lineChart = new Chart(this.lineCanvas.nativeElement,this.peopleService.getChartData(\"Daily\"));\r\n//    this.barChart = new Chart(this.barCanvas.nativeElement,this.peopleService.getChartData(\"Weekly\"));\r\n//    this.pieChart = new Chart(this.pieCanvas.nativeElement,this.peopleService.getChartData(\"Monthly\"));\r\n//  }\r\n\r\n  slideChanged(){\r\n    let currentIndex = this.slides.getActiveIndex();\r\n    switch(currentIndex){\r\n      case 0:\r\n        this.status = \"Weekly\";\r\n        break;\r\n      case 1:\r\n        this.status = \"Daily\";\r\n        break;\r\n      case 2:\r\n        this.status = \"Monthly\";\r\n        break;\r\n    }\r\n  }\r\n\r\n  goToSlide(index) {\r\n    this.slides.slideTo(index, 500);\r\n  }\r\n\r\n  getIcon(){\r\n    if (this.positionShift > 0)\r\n      return \"md-trending-up\";\r\n    else if(this.positionShift < 0)\r\n      return \"md-trending-down\";\r\n    else\r\n      return \"md-remove\";\r\n  }\r\n\r\n  getColor(){\r\n    if(this.positionShift > 0)\r\n      return \"secondary\";\r\n    else if(this.positionShift < 0)\r\n      return \"danger\";\r\n    else\r\n      return \"light\";\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user/user.ts"],"sourceRoot":""}